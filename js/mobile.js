!function(e,t){"function"==typeof define&&define.amd?define([],t):e.Mobile=t()}(this,function(){function e(e){this.ctn=e.ctn,this.init(),this.renderDOM(),this.combine(),this.bindDOM()}var t,n,i,o=!1;return e.prototype.init=function(){this.radio=document.body.scrollHeight/document.body.scrollWidth,this.scaleW=document.body.scrollWidth,this.idx=0},e.prototype.combine=function(){t&&(document.getElementById("js-mobile-tagcloud").innerHTML=t.innerHTML),n&&(document.getElementById("js-mobile-aboutme").innerHTML=n.innerHTML),i&&(document.getElementById("js-mobile-friends").innerHTML=i.innerHTML)},e.prototype.renderDOM=function(){var e=document.createElement("div");e.id="viewer",e.className="hide",t=document.getElementById("js-tagcloud"),n=document.getElementById("js-aboutme"),i=document.getElementById("js-friends");var o=t?'<span class="viewer-title">标签</span><div class="viewer-div tagcloud" id="js-mobile-tagcloud"></div>':"",a=i?'<span class="viewer-title">友情链接</span><div class="viewer-div friends" id="js-mobile-friends"></div>':"",r=n?'<span class="viewer-title">关于我</span><div class="viewer-div aboutme" id="js-mobile-aboutme"></div>':"";e.innerHTML='<div id="viewer-box">		<div class="viewer-box-l">			<div class="viewer-box-wrap">'+r+a+o+'</div>		</div>		<div class="viewer-box-r"></div>		</div>',document.getElementsByTagName("body")[0].appendChild(e);var s=document.getElementById("viewer-box");this.wrap=s,s.style.height=document.body.scrollHeight+"px"},e.prototype.show=function(){var e=this;document.getElementById("viewer").className="",setTimeout(function(){e.wrap.className="anm-swipe"},0),document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",o=!0},e.prototype.hide=function(){document.getElementById("viewer-box").className="",document.body.style.overflow="auto",document.documentElement.style.overflow="auto",o=!1},e.prototype.bindDOM=function(){var e=this;e.scaleW,document.getElementById("viewer-box").addEventListener("webkitTransitionEnd",function(){0==o&&(document.getElementById("viewer").className="hide",o=!0)},!1),e.ctn.addEventListener("touchend",function(){e.show()},!1),document.getElementsByClassName("viewer-box-r")[0].addEventListener("touchend",function(){e.hide()},!1)},e});